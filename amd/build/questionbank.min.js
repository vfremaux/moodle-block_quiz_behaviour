define(["jquery","core/log"],function(a,b){var c={init:function(){a(".question-category-handle").bind("click",this.togglecategory),a("#quiz-behaviour-cats-collapseall").bind("click",this.collapseall),a("#quiz-behaviour-cats-expandall").bind("click",this.expandall),a("#quiz-behaviour-cats-toggleempty").bind("click",this.toggleempty),b.debug("AMD Extended question bank initialized")},togglecategory:function(b){b.stopPropagation(),b.preventDefault();var c=a(this),d=c.attr("id"),e=d.replace("question-category-handle-",""),f="question-category-sub-"+e;"block"==a("#"+f).css("display")?(a("#"+f).css("display","none"),a("#"+d).attr("aria-expanded",!1)):(a("#"+f).css("display","block"),a("#"+d).attr("aria-expanded",!0))},collapseall:function(){a(".question-category.sub").css("display","none"),a(".question-category-handle").attr("aria-expanded",!1)},expandall:function(){a(".question-category.sub").css("display","block"),a(".question-category-handle").attr("aria-expanded",!0)},toggleempty:function(){var b,c=a(this);"block"==a(".question-category.is-not-empty").css("display")?(a(".question-category.is-not-empty").css("display","none"),c.css("background-color","#888"),c.css("color","#fff"),a(".question-category.is-empty").parentsUntil(".questioncategories").css("display","block"),b=a(".question-category.is-empty").parentsUntil(".questioncategories"),b.children(".question-category-header").css("opacity",.5)):(a(".question-category.is-not-empty").css("display","block"),b=a(".question-category.is-empty").parentsUntil(".questioncategories"),b.children(".question-category-header").css("opacity",1),c.css("background-color","#ccc"),c.css("color","#000"))}};return c});