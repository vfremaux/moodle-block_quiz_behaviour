{"version":3,"file":"questionbank.min.js","sources":["../src/questionbank.js"],"sourcesContent":["/**\n * This will only work for quizzes having :\n * - being customscripted as required\n * - having single question per page\n */\n// jshint undef:false, unused:false\n\ndefine(['jquery', 'core/log'], function($, log) {\n\n    var extendedquestionbank = {\n\n        init: function() {\n\n            $('.question-category-handle').bind('click', this.togglecategory);\n            $('#quiz-behaviour-cats-collapseall').bind('click', this.collapseall);\n            $('#quiz-behaviour-cats-expandall').bind('click', this.expandall);\n            $('#quiz-behaviour-cats-toggleempty').bind('click', this.toggleempty);\n\n            log.debug(\"AMD Extended question bank initialized\");\n        },\n\n        togglecategory: function(e) {\n\n            e.stopPropagation();\n            e.preventDefault();\n\n            var that = $(this);\n\n            var handleid = that.attr('id');\n            var id = handleid.replace('question-category-handle-', '');\n            var subs = 'question-category-sub-' + id;\n            if ($('#' + subs).css('display') == 'block') {\n                $('#' + subs).css('display', 'none');\n                $('#' + handleid).attr('aria-expanded', false);\n            } else {\n                $('#' + subs).css('display', 'block');\n                $('#' + handleid).attr('aria-expanded', true);\n            }\n        },\n\n        collapseall: function() {\n            $('.question-category.sub').css('display', 'none');\n            $('.question-category-handle').attr('aria-expanded', false);\n        },\n\n        expandall: function() {\n            $('.question-category.sub').css('display', 'block');\n            $('.question-category-handle').attr('aria-expanded', true);\n        },\n\n        toggleempty: function() {\n\n            var that = $(this);\n            var parents;\n\n            if ($('.question-category.is-not-empty').css('display') == 'block') {\n                $('.question-category.is-not-empty').css('display', 'none');\n                that.css('background-color', '#888');\n                that.css('color', '#fff');\n                // Reopen upgoing hierarchies to empty elements.\n                $('.question-category.is-empty').parentsUntil('.questioncategories').css('display', 'block');\n                parents = $('.question-category.is-empty').parentsUntil('.questioncategories');\n                parents.children('.question-category-header').css('opacity', 0.5);\n            } else {\n                $('.question-category.is-not-empty').css('display', 'block');\n                parents = $('.question-category.is-empty').parentsUntil('.questioncategories');\n                parents.children('.question-category-header').css('opacity', 1);\n                that.css('background-color', '#ccc');\n                that.css('color', '#000');\n            }\n        },\n    };\n\n    return extendedquestionbank;\n});"],"names":["define","$","log","init","bind","this","togglecategory","collapseall","expandall","toggleempty","debug","e","stopPropagation","preventDefault","handleid","attr","subs","replace","css","that","parentsUntil","children"],"mappings":"AAOAA,2CAAO,CAAC,SAAU,aAAa,SAASC,EAAGC,WAEZ,CAEvBC,KAAM,WAEFF,EAAE,6BAA6BG,KAAK,QAASC,KAAKC,gBAClDL,EAAE,oCAAoCG,KAAK,QAASC,KAAKE,aACzDN,EAAE,kCAAkCG,KAAK,QAASC,KAAKG,WACvDP,EAAE,oCAAoCG,KAAK,QAASC,KAAKI,aAEzDP,IAAIQ,MAAM,2CAGdJ,eAAgB,SAASK,GAErBA,EAAEC,kBACFD,EAAEE,qBAIEC,SAFOb,EAAEI,MAEOU,KAAK,MAErBC,KAAO,yBADFF,SAASG,QAAQ,4BAA6B,IAEnB,SAAhChB,EAAE,IAAMe,MAAME,IAAI,YAClBjB,EAAE,IAAMe,MAAME,IAAI,UAAW,QAC7BjB,EAAE,IAAMa,UAAUC,KAAK,iBAAiB,KAExCd,EAAE,IAAMe,MAAME,IAAI,UAAW,SAC7BjB,EAAE,IAAMa,UAAUC,KAAK,iBAAiB,KAIhDR,YAAa,WACTN,EAAE,0BAA0BiB,IAAI,UAAW,QAC3CjB,EAAE,6BAA6Bc,KAAK,iBAAiB,IAGzDP,UAAW,WACPP,EAAE,0BAA0BiB,IAAI,UAAW,SAC3CjB,EAAE,6BAA6Bc,KAAK,iBAAiB,IAGzDN,YAAa,eAELU,KAAOlB,EAAEI,MAG8C,SAAvDJ,EAAE,mCAAmCiB,IAAI,YACzCjB,EAAE,mCAAmCiB,IAAI,UAAW,QACpDC,KAAKD,IAAI,mBAAoB,QAC7BC,KAAKD,IAAI,QAAS,QAElBjB,EAAE,+BAA+BmB,aAAa,uBAAuBF,IAAI,UAAW,SAC1EjB,EAAE,+BAA+BmB,aAAa,uBAChDC,SAAS,6BAA6BH,IAAI,UAAW,MAE7DjB,EAAE,mCAAmCiB,IAAI,UAAW,SAC1CjB,EAAE,+BAA+BmB,aAAa,uBAChDC,SAAS,6BAA6BH,IAAI,UAAW,GAC7DC,KAAKD,IAAI,mBAAoB,QAC7BC,KAAKD,IAAI,QAAS,UAMjC"}