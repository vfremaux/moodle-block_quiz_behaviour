{"version":3,"sources":["../src/questionbank.js"],"names":["define","$","log","init","bind","togglecategory","collapseall","expandall","toggleempty","debug","e","stopPropagation","preventDefault","that","handleid","attr","id","replace","subs","css","parents","parentsUntil","children"],"mappings":"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","sourcesContent":["/**\n * This will only work for quizzes having :\n * - being customscripted as required\n * - having single question per page\n */\n// jshint undef:false, unused:false\n\ndefine(['jquery', 'core/log'], function($, log) {\n\n    var extendedquestionbank = {\n\n        init: function() {\n\n            $('.question-category-handle').bind('click', this.togglecategory);\n            $('#quiz-behaviour-cats-collapseall').bind('click', this.collapseall);\n            $('#quiz-behaviour-cats-expandall').bind('click', this.expandall);\n            $('#quiz-behaviour-cats-toggleempty').bind('click', this.toggleempty);\n\n            log.debug(\"AMD Extended question bank initialized\");\n        },\n\n        togglecategory: function(e) {\n\n            e.stopPropagation();\n            e.preventDefault();\n\n            var that = $(this);\n\n            var handleid = that.attr('id');\n            var id = handleid.replace('question-category-handle-', '');\n            var subs = 'question-category-sub-' + id;\n            if ($('#' + subs).css('display') == 'block') {\n                $('#' + subs).css('display', 'none');\n                $('#' + handleid).attr('aria-expanded', false);\n            } else {\n                $('#' + subs).css('display', 'block');\n                $('#' + handleid).attr('aria-expanded', true);\n            }\n        },\n\n        collapseall: function() {\n            $('.question-category.sub').css('display', 'none');\n            $('.question-category-handle').attr('aria-expanded', false);\n        },\n\n        expandall: function() {\n            $('.question-category.sub').css('display', 'block');\n            $('.question-category-handle').attr('aria-expanded', true);\n        },\n\n        toggleempty: function() {\n\n            var that = $(this);\n            var parents;\n\n            if ($('.question-category.is-not-empty').css('display') == 'block') {\n                $('.question-category.is-not-empty').css('display', 'none');\n                that.css('background-color', '#888');\n                that.css('color', '#fff');\n                // Reopen upgoing hierarchies to empty elements.\n                $('.question-category.is-empty').parentsUntil('.questioncategories').css('display', 'block');\n                parents = $('.question-category.is-empty').parentsUntil('.questioncategories');\n                parents.children('.question-category-header').css('opacity', 0.5);\n            } else {\n                $('.question-category.is-not-empty').css('display', 'block');\n                parents = $('.question-category.is-empty').parentsUntil('.questioncategories');\n                parents.children('.question-category-header').css('opacity', 1);\n                that.css('background-color', '#ccc');\n                that.css('color', '#000');\n            }\n        },\n    };\n\n    return extendedquestionbank;\n});"],"file":"questionbank.min.js"}